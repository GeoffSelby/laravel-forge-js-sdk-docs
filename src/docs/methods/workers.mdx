---
title: 'Workers'
description: Laravel Forge JavaScript SDK workers module.
---

## Create a worker

### Method

`forge.workers.create(server_id, site_id, payload)`

### Usage

```js lineNumbers=true
const forge = new Forge('API_TOKEN');

const worker = await forge.workers.create(server_id, site_id, payload);
```

### Payload

```js lineNumbers=true
{
  connection: 'sqs',
  timeout: 90,
  sleep: 60,
  tries: null,
  processes: 1,
  daemon: true,
  force: false,
  php_version: 'php72'
}
```

> You may pass `php` as the `php_version` value to use the server's default PHP CLI version.

### Example Response

```json lineNumbers=true
{
  "worker": {
    "id": 1,
    "connection": "rule",
    "command": "php7.2 /home/forge/default/artisan queue:work rule --sleep=60 --daemon --quiet --timeout=90",
    "queue": null,
    "timeout": 90,
    "sleep": 60,
    "tries": null,
    "processes": 1,
    "environment": null,
    "php_version": "php72",
    "daemon": 1,
    "force": 0,
    "status": "installing",
    "created_at": "2016-12-17 07:15:03"
  }
}
```

---

## List all workers for a site

### Method

`forge.workers.list(server_id, site_id)`

### Usage

```js lineNumbers=true
const forge = new Forge('API_TOKEN');

const workers = await forge.workers.list(server_id, site_id);
```

### Example Response

```json lineNumbers=true
{
  "workers": [
    {
      "id": 1,
      "connection": "rule",
      "command": "php7.2 /home/forge/default/artisan queue:work rule --sleep=60 --daemon --quiet --timeout=90",
      "queue": null,
      "timeout": 90,
      "sleep": 60,
      "tries": null,
      "processes": 1,
      "environment": null,
      "php_version": "php72",
      "daemon": 1,
      "force": 0,
      "status": "installing",
      "created_at": "2016-12-17 07:15:03"
    }
  ]
}
```

---

## Get a worker

### Method

`forge.workers.get(server_id, site_id, worker_id)`

### Usage

```js lineNumbers=true
const forge = new Forge('API_TOKEN');

const worker = await forge.workers.get(server_id, site_id, worker_id);
```

### Example Response

```json lineNumbers=true
{
  "worker": {
    "id": 1,
    "connection": "rule",
    "command": "php7.2 /home/forge/default/artisan queue:work rule --sleep=60 --daemon --quiet --timeout=90",
    "queue": null,
    "timeout": 90,
    "sleep": 60,
    "tries": null,
    "processes": 1,
    "environment": null,
    "php_version": "php72",
    "daemon": 1,
    "force": 0,
    "status": "installing",
    "created_at": "2016-12-17 07:15:03"
  }
}
```

---

## Delete a worker

### Method

`forge.workers.delete(server_id, site_id, worker_id)`

### Usage

```js lineNumbers=true
const forge = new Forge('API_TOKEN');

await forge.workers.delete(server_id, site_id, worker_id);
```

---

## Restart a worker

### Method

`forge.workers.restart(server_id, site_id, worker_id)`

### Usage

```js lineNumbers=true
const forge = new Forge('API_TOKEN');

await forge.workers.restart(server_id, site_id, worker_id);
```

---
